(this["webpackJsonptrain-delay"]=this["webpackJsonptrain-delay"]||[]).push([[0],{32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEISURBVHgBrVLLDYJAEN0lHrhBB8KBADdKoASoQKxArUCtwFiBWAFYAZTAkZt2IDdOBN+Y3c3GAyGRSSbv7Xwew87yMAyfjDGH/WHjOG7bts2Jr0iMAsAXMKIz57ykJPCC2EH0xeC2ltvhfAXNwDfAryDDhCN8TTwIghieyS8jXklOcT0HfiP0PC8iDeqVE9LILgLcMAwL3AJ3tEZHTGT9nG3BO3iDcwKsOamzZazr+9412HJmm6aZKEH86hmQygXNEKCFpMJVvbzDXNxRAaQkbbaYEHug543aQoip+hUSNfAOlxulZ2QD6wnBEmJHWS+GqodhaFQFNnYS66/YDPN9fy/r9VexuH0ApEFrzH25+XgAAAAASUVORK5CYII="},33:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFuSURBVHgBpVPLbYNAEN3FSPYtdGByQAIuJh3YFSR0EFcQpwM6SAkxHTgd0EHIDcRl0wG5ceCT95zFkiMQSB5pPeNl9u2bmbdSaAuCwKqq6iCl3HRd99V7fEqyLEvEDDP7AEBB27apYRgJ1gviD2wr7Kdipkn+uK4bgYUFNmX/gf8Buka4ret6VxTFJOiFWZ7nh6EEXmSa5hvCnZgww/O8J/jjWELTNCeyA+hWTJj0ff+dJWGVgwlSWnC8MEVOiGGoUTAw+4QPxIQB6B7AvHg/BmggwRYzDFMtAfRNQJQ8eMbQJe6x4n/fFA4+9BNerVZkr5bLZagBI8dxripimR08m2yL63IJcsS6TJnA0N+rzlX0i8Xijv3Gfjy7ZwNG3cXUIiZOgdsSdJ9JW9xu4fkFQB58SgFlAMqpLomxNRcJAzqZZIb4EYfPWhJ/vaJtsDf4Ktg7rcu01ycGpFhmhHg9diOSf/REFfqTooJyTGe/Bte1W9vaCz8AAAAASUVORK5CYII="},41:function(e,t,a){},42:function(e,t,a){},52:function(e,t,a){e.exports=a(76)},65:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),s=a.n(r),i=a(28),o=a(38),c=a(16);o.a.use(c.a).init({resources:{cs:{translations:{"delays.title":"Zpo\u017ed\u011bn\xed","delays.searchBar.station":"Zast\xe1vka","delays.searchBar.date":"Datum","delays.searchBar.arrivals":"P\u0159\xedjezdy","delays.searchBar.departures":"Odjezdy","delays.searchBar.button":"Uk\xe1zat spoje","delays.list.connection":"Spoj","delays.list.finalStation":"C\xedlov\xe1 stanice","delays.list.over":"P\u0159es","delays.list.arrival":"P\u0159\xedjezd","delays.list.departure":"Odjezd","delays.list.platform":"N\xe1stupi\u0161t\u011b","delays.list.delay":"Zpo\u017ed\u011bn\xed","delays.list.noDelay":"Nem\xe1 zpo\u017ed\u011bn\xed","delays.mobile.list.finalStation":"C\xedl/Spoj","delays.mobile.list.arrival.departure":"P\u0159\xedjezd/Odjezd","delays.mobile.list.delay.platform":"Zpo\u017ed\u011bn\xed/N\xe1stup"}},sk:{translations:{"delays.title":"Zpo\u017ed\u011bn\xed","delays.searchBar.station":"Zast\xe1vka","delays.searchBar.date":"Datum","delays.searchBar.arrivals":"P\u0159\xedjezdy","delays.searchBar.departures":"Odjezdy","delays.searchBar.button":"Uk\xe1zat spoje","delays.list.connection":"Spoj","delays.list.finalStation":"C\xedlov\xe1 stanice","delays.list.over":"P\u0159es","delays.list.arrival":"P\u0159\xedjezd","delays.list.departure":"Odjezd","delays.list.platform":"N\xe1stupi\u0161t\u011b","delays.list.delay":"Zpo\u017ed\u011bn\xed","delays.list.noDelay":"Nem\xe1 zpo\u017ed\u011bn\xed","delays.mobile.list.finalStation":"C\xedl/Spoj","delays.mobile.list.arrival.departure":"P\u0159\xedjezd/Odjezd","delays.mobile.list.delay.platform":"Zpo\u017ed\u011bn\xed/N\xe1stup"}},en:{translations:{"delays.title":"Delays","delays.searchBar.station":"Station","delays.searchBar.date":"Date","delays.searchBar.arrivals":"Arrivals","delays.searchBar.departures":"Departures","delays.searchBar.button":"Display connections","delays.list.connection":"Connection","delays.list.finalStation":"Final Station","delays.list.over":"Over","delays.list.arrival":"Arrival","delays.list.departure":"Departure","delays.list.platform":"Platform","delays.list.delay":"Delay","delays.list.noDelay":"On time","delays.mobile.list.finalStation":"Final Station","delays.mobile.list.arrival.departure":"Arrival/Departure","delays.mobile.list.delay.platform":"Delay/Platform"}},ua:{translations:{"delays.title":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0438","delays.searchBar.station":"\u0421\u0442\u0430\u043d\u0446\u0456\u044f","delays.searchBar.date":"\u0414\u0430\u0442\u0430","delays.searchBar.arrivals":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f","delays.searchBar.departures":"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.searchBar.button":"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0441\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044c","delays.list.connection":"\u0421\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044f","delays.list.finalStation":"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f","delays.list.over":"Over","delays.list.arrival":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f","delays.list.departure":"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.list.platform":"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430","delays.list.delay":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0430","delays.list.noDelay":"\u0412\u0447\u0430\u0441\u043d\u043e","delays.mobile.list.finalStation":"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f","delays.mobile.list.arrival.departure":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f/\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.mobile.list.delay.platform":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0430/\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"}},de:{translations:{}},pl:{translations:{}},hu:{translations:{}},ru:{translations:{"delays.title":"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0438","delays.searchBar.station":"\u0421\u0442\u0430\u043d\u0446\u0438\u044f","delays.searchBar.date":"\u0414\u0430\u0442\u0430","delays.searchBar.arrivals":"\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435","delays.searchBar.departures":"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","delays.searchBar.button":"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f","delays.list.connection":"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f","delays.list.finalStation":"\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f","delays.list.over":"Over","delays.list.arrival":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f","delays.list.departure":"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.list.platform":"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430","delays.list.delay":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0430","delays.list.noDelay":"\u0412\u0447\u0430\u0441\u043d\u043e","delays.mobile.list.finalStation":"\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f","delays.mobile.list.arrival.departure":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f/\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.mobile.list.delay.platform":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0430/\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"}},fr:{translations:{}},es:{translations:{}}},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1}});o.a,a(65);var d=a(25),u=a(11),m=a(12),p=a(14),y=a(13),h=a(15),b=(a(66),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null)}}]),t}(n.Component)),f=a(24),E=function(e){var t=[];return e.map((function(e){return e.cities.map((function(e){var a=e.name,n=e.stationsTypes;return e.stations.map((function(e){var l=e.significance,r=e.fullname,s=e.id,i=e.latitude,o=e.longitude;return t.push({significance:l,stationsTypes:n,fullname:r,cityName:a,id:s,latitude:i,longitude:o})}))}))})),t},v=function(){var e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},g=function(e,t,a){if(e&&t&&a){var n=function(e,t){return t.find((function(t){return t.id===e}))},l=n(a,t),r=e.connectionStations.find((function(e){return e.stationId===a}))||[];return{stationsTypes:l.stationsTypes,vehicleNumber:e.number,finalStation:n(e.connectionStations[e.connectionStations.length-1].stationId,t).fullname,overStations:e.connectionStations.map((function(e){var a=e.stationId;return n(a,t)?n(a,t).cityName:""})),arrival:new Date(r.arrival),departure:new Date(r.departure),platform:r.platform,delay:e.delay}}},A=function(e,t){var a=new Date(e);return a.setMinutes(e.getMinutes()+t),a},w=a(47),N=a(51),O=(a(69),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).state={selectedOption:null,userLocation:null,dateFilter:v()},a.componentDidMount=function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;return a.setState({userLocation:t})}))},a.calculateOptions=function(e){return e.map((function(e){return{value:e.id,label:e.fullname}}))},a.findClosestHandler=function(){if(!a.state.userLocation)return console.error("User's location wasn't detected");if(!a.props.stations.length)return console.error("Can't load stations data");var e=a.state.userLocation,t=e.latitude,n=e.longitude,l=a.props.stations.map((function(e){var a=e.latitude,l=e.longitude;try{return Object(w.distanceTo)({lat:a,lon:l},{lat:t,lon:n})}catch(r){return 1/0}})),r=Math.min.apply(Math,Object(f.a)(l)),s=l.indexOf(r);return a.setState({selectedOption:a.calculateOptions(a.props.stations)[s]})},a.selectStationHandler=function(e){a.setState({selectedOption:e}),a.props.setStationId(e.value)},a.submitHandler=function(e){e.preventDefault(),a.state.selectedOption&&a.props.setStationId(a.state.selectedOption.value)},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.stations,n=t.timeFilter,r=t.setTimeFilter,s=t.showLoader,i=this.state,o=i.selectedOption,c=i.dateFilter;return l.a.createElement("form",{className:"delay-form",onSubmit:this.submitHandler},l.a.createElement("div",{className:"input-field input-field--select"},l.a.createElement("label",{className:"delay-form__label delay-form__label--select"},this.props.t("delays.searchBar.station")),l.a.createElement(N.a,{className:"station-select",value:o,onChange:function(t){return e.setState({selectedOption:t})},options:this.calculateOptions(a),isDisabled:s,placeholder:s?"Loading...":"Choose station"}),l.a.createElement("button",{className:"location-button",type:"button",onClick:this.findClosestHandler})),l.a.createElement("div",{className:"delay-form__flex-wrapper"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{className:"delay-form__label"},this.props.t("delays.searchBar.date")),l.a.createElement("input",{disabled:!0,onChange:this.chooseDateHandler,value:c,className:"delay-form__date-picker",type:"date"})),l.a.createElement("div",null,l.a.createElement("div",{className:"checkbox-wrapper"},l.a.createElement("input",{type:"radio",name:"arrivalDepartureFilter",id:"checkboxFirst",className:"invisibleCheckbox",checked:"arrival"===n,onChange:function(){return r("arrival")}}),l.a.createElement("label",{className:"checkbox-label",htmlFor:"checkboxFirst"},l.a.createElement("span",{className:"radio-label"},this.props.t("delays.searchBar.arrivals")))),l.a.createElement("div",{className:"checkbox-wrapper"},l.a.createElement("input",{type:"radio",name:"arrivalDepartureFilter",id:"checkboxSecond",className:"invisibleCheckbox",value:"departure",checked:"departure"===n,onChange:function(){return r("departure")}}),l.a.createElement("label",{className:"checkbox-label",htmlFor:"checkboxSecond"},l.a.createElement("span",{className:"radio-label"},this.props.t("delays.searchBar.departures")))))),l.a.createElement("button",{className:"delay-form__button"},this.props.t("delays.searchBar.button")))}}]),t}(n.Component)),S=Object(c.b)()(O),j=(a(41),a(42),a(72),a(48)),B=function(e){var t=e.text;return l.a.createElement("section",{className:"live-line-wrapper-row"},l.a.createElement(j.a,{offset:"run-in",direction:"toLeft",speed:5},(function(){return l.a.createElement("p",{className:"live-line-row"},t)})))},C=a(32),_=a.n(C),k=a(33),D=a.n(k),T=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.rowProps,t=e.stationsTypes,a=e.vehicleNumber,n=e.finalStation,r=e.overStations,s=e.arrival,i=e.departure,o=e.platform,c=e.delay;return l.a.createElement("tr",{className:"delay-table__row"},l.a.createElement("td",null,t.map((function(e){return l.a.createElement("img",{key:e,src:"BUS_STATION"===e?_.a:D.a,alt:"bus-icon"})})),a),l.a.createElement("td",{className:"delay-table__row__destination"},n),l.a.createElement("td",null,l.a.createElement("div",{className:"rowItem-delay"},l.a.createElement(B,{text:r.join(" ")}))),l.a.createElement("td",null,s.toTimeString().slice(0,5),Boolean(c)&&l.a.createElement("span",{className:"time-with-delay"},A(s,c).toTimeString().slice(0,5))),l.a.createElement("td",null,i.toTimeString().slice(0,5),Boolean(c)&&l.a.createElement("span",{className:"time-with-delay"},A(i,c).toTimeString().slice(0,5))),l.a.createElement("td",null,o),l.a.createElement("td",{className:"delay-table__row__delay--".concat(c?"negative":"positive")},c?c+" min.":this.props.t("delays.list.noDelay")))}}]),t}(n.Component),F=Object(c.b)()(T),L=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stations,a=e.stationId,n=e.trains,r=e.timeFilter,s=e.showTableLoader,i=e.message;return l.a.createElement(l.a.Fragment,null,s&&l.a.createElement("div",{className:"loader"}),l.a.createElement("table",{className:"delay-table"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"delay-table__header"},l.a.createElement("th",null,this.props.t("delays.list.connection")),l.a.createElement("th",null,this.props.t("delays.list.finalStation")),l.a.createElement("th",{className:"over-column"},this.props.t("delays.list.over")),l.a.createElement("th",null,this.props.t("delays.list.arrival")),l.a.createElement("th",null,this.props.t("delays.list.departure")),l.a.createElement("th",null,this.props.t("delays.list.platform")),l.a.createElement("th",null,this.props.t("delays.list.delay")))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"7"},i)),("arrival"===r?n:Object(f.a)(n).reverse()).map((function(e,n){return l.a.createElement(F,{key:n,rowProps:g(e,t,a)})})))))}}]),t}(n.Component),I=Object(c.b)()(L),x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).state={isRowOpened:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.rowProps,a=t.stationsTypes,n=t.vehicleNumber,r=t.finalStation,s=t.overStations,i=t.arrival,o=t.departure,c=t.platform,d=t.delay;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{className:"delay-table__row ".concat(this.state.isRowOpened&&"delay-table__row--opened")},l.a.createElement("td",null,l.a.createElement("p",{className:"delay-table__row__destination"},r),a&&a.map((function(e){return l.a.createElement("img",{key:e,src:"BUS_STATION"===e?_.a:D.a,alt:"bus-icon"})})),n),l.a.createElement("td",null,l.a.createElement("p",null,i.toTimeString().slice(0,5),Boolean(d)&&l.a.createElement("span",{className:"time-with-delay"},A(i,d).toTimeString().slice(0,5))),l.a.createElement("p",{className:"delay-table__row__arrival-time"},o.toTimeString().slice(0,5),Boolean(d)&&l.a.createElement("span",{className:"time-with-delay"},A(o,d).toTimeString().slice(0,5)))),l.a.createElement("td",null,l.a.createElement("div",{className:"last-column"},l.a.createElement("div",null,l.a.createElement("p",{className:"delay-table__row__delay--".concat(d?"negative":"positive")},d," min",l.a.createElement("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M5.27518 0.527318C5.4548 0.527318 5.63442 0.613688 5.72767 0.786443L9.96849 8.64102C10.1365 8.95255 9.89187 9.31904 9.516 9.31904H1.03436C0.658134 9.31904 0.413819 8.95255 0.581876 8.64102L4.82269 0.786443C4.91594 0.613688 5.0952 0.527318 5.27518 0.527318ZM5.27518 0C4.88847 0 4.53681 0.20528 4.35828 0.535612L0.117459 8.39056C-0.0462606 8.69342 -0.0383126 9.05122 0.138057 9.34686C0.227326 9.49684 0.355992 9.62227 0.509231 9.70937C0.667168 9.799 0.848599 9.84669 1.03436 9.84669H9.516C9.70141 9.84669 9.88247 9.799 10.0408 9.70937C10.1944 9.62227 10.3223 9.49684 10.4119 9.34686C10.5883 9.05158 10.5963 8.69342 10.4325 8.39056L6.19172 0.535987C6.01355 0.205294 5.66189 0 5.27518 0Z",fill:"#292929"}),l.a.createElement("path",{d:"M5.80216 7.64851C5.80216 7.94017 5.56616 8.17618 5.27486 8.17618C4.9832 8.17618 4.74756 7.94017 4.74756 7.64851C4.74756 7.35721 4.9832 7.12122 5.27486 7.12122C5.56616 7.12122 5.80216 7.35721 5.80216 7.64851Z",fill:"#292929"}),l.a.createElement("path",{d:"M5.27486 2.37378C4.9832 2.37378 4.74756 2.60978 4.74756 2.90107V5.89032C4.74756 6.18198 4.9832 6.41797 5.27486 6.41797C5.56616 6.41797 5.80216 6.18198 5.80216 5.89032V2.90107C5.80216 2.60978 5.56616 2.37378 5.27486 2.37378Z",fill:"#292929"}))),l.a.createElement("p",null,c)),l.a.createElement("button",{onClick:function(){return e.setState({isRowOpened:!e.state.isRowOpened})},className:"circle-toggle"})))),this.state.isRowOpened&&l.a.createElement("tr",{className:"delay-table__row__addition"},l.a.createElement("td",{colSpan:"3"},l.a.createElement("h4",null,this.props.t("delays.list.over")),l.a.createElement("p",null,s.join(", ")))))}}]),t}(n.Component),R=Object(c.b)()(x),P=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).componentDidUpdate=function(){},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stations,a=e.stationId,n=e.trains,r=e.timeFilter,s=e.showTableLoader;return l.a.createElement(l.a.Fragment,null,s&&l.a.createElement("div",{className:"loader"}),l.a.createElement("table",{className:"delay-table delay-table--mobile"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"delay-table__header delay-table__header--mobile"},l.a.createElement("th",null,this.props.t("delays.mobile.list.finalStation")),l.a.createElement("th",null,this.props.t("delays.mobile.list.arrival.departure")),l.a.createElement("th",null,this.props.t("delays.mobile.list.delay.platform")))),l.a.createElement("tbody",null,("arrival"===r?n:Object(f.a)(n).reverse()).map((function(e,n){return l.a.createElement(R,{key:n,rowProps:g(e,t,a)})})))))}}]),t}(n.Component),Q=Object(c.b)()(P),z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).state={rows:[],locations:[],showLoader:!0,trains:[],stationId:null,timeFilter:"arrival",showTableLoader:!1,trainsQuantity:10,message:""},a.apiRequestLoop=function(){fetch("https://dpl-qa-ybus-pubapi.sa.cz/restapi/routes/10204002/departures",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return fetch("https://dpl-qa-ybus-pubapi.sa.cz/restapi/consts/locations",{mode:"cors"}).then((function(e){return e.json()})).then((function(t){a.setState({rows:e,locations:t,showLoader:!1})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},a.tick=function(){a.state.stationId&&a.getTrains(a.state.stationId)},a.getTrains=function(e){var t="https://dpl-qa-ybus-pubapi.sa.cz/restapi/routes/".concat(e,"/departures?limit=1000");a.setState({showTableLoader:!0}),fetch(t,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return a.setState({trains:e,showTableLoader:!1,message:e.length?"":"No arrivals today :("})})).catch((function(e){console.log(e.message),a.setState({showTableLoader:!1,message:"Can't load data :("})}))},a.componentDidMount=function(){var e=new URLSearchParams(window.location.search);a.props.i18n.changeLanguage(e.get("lang")),a.apiRequestLoop(),e.get("refresh")&&setInterval((function(){return a.tick()}),1e3*e.get("refresh"))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.stationId!==this.state.stationId&&this.getTrains(this.state.stationId)}},{key:"render",value:function(){var e=this,t=this.state,a=t.timeFilter,n=t.locations,r=t.trains,s=t.stationId,i=t.showLoader,o=t.showTableLoader,c=t.trainsQuantity,d=t.message;console.log(r);var u,m=new URLSearchParams(window.location.search);return m.get("refresh")?!((u=+m.get("refresh"))instanceof Number||"number"===typeof u)||isNaN(u)?l.a.createElement("div",{className:"not-found"},"Refresh Query Must Be A Number"):m.get("lang")?"cs"!==m.get("lang")&&"sk"!==m.get("lang")&&"en"!==m.get("lang")&&"ua"!==m.get("lang")&&"de"!==m.get("lang")&&"pl"!==m.get("lang")&&"hu"!==m.get("lang")&&"ru"!==m.get("lang")&&"fr"!==m.get("lang")&&"es"!==m.get("lang")?l.a.createElement("div",{className:"not-found"},"Lang Query Mismatched",l.a.createElement("br",null),"Try to write correct lang into query. Here is a list",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"list"},"cs",l.a.createElement("br",null),"sk",l.a.createElement("br",null),"en",l.a.createElement("br",null),"ua",l.a.createElement("br",null),"de",l.a.createElement("br",null),"pl",l.a.createElement("br",null),"hu",l.a.createElement("br",null),"ru",l.a.createElement("br",null),"fr",l.a.createElement("br",null),"es")):l.a.createElement("div",{className:"delay-page__wrapper"},l.a.createElement("h1",{className:"delay-page__title"},this.props.t("delays.title")),l.a.createElement(S,{stations:E(n),setStationId:function(t){return e.setState({stationId:t,trainsQuantity:10})},setTimeFilter:function(t){return e.setState({timeFilter:t})},timeFilter:a,showLoader:i}),l.a.createElement(I,{stations:E(n),trains:r.slice(0,c),stationId:s,timeFilter:a,showTableLoader:o,message:d}),l.a.createElement(Q,{stations:E(n),trains:r.slice(0,c),stationId:s,timeFilter:a,showTableLoader:o}),l.a.createElement("div",{className:"delay-page__button__wrapper"},l.a.createElement("button",{onClick:function(){return e.setState({trainsQuantity:c+5})},disabled:r.length<=c,className:"delay-page__button"},this.props.t("delays.searchBar.button")))):l.a.createElement("div",{className:"not-found"},"Lang Query Not Found"):l.a.createElement("div",{className:"not-found"},"Refresh Query Not Found")}}]),t}(n.Component),H=Object(c.b)()(z),M=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,{to:"/DelayPage?lang=en&refresh=30"})}}]),t}(n.Component),U=function(){return l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",component:M}),l.a.createElement(d.b,{exact:!0,path:"/DelayPage",component:H}),l.a.createElement(d.b,{component:b}))};s.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{basename:"/train-delay"},l.a.createElement(U,null))),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.8566c53c.chunk.js.map