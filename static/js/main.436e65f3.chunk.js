(this["webpackJsonptrain-delay"]=this["webpackJsonptrain-delay"]||[]).push([[0],{32:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEISURBVHgBrVLLDYJAEN0lHrhBB8KBADdKoASoQKxArUCtwFiBWAFYAZTAkZt2IDdOBN+Y3c3GAyGRSSbv7Xwew87yMAyfjDGH/WHjOG7bts2Jr0iMAsAXMKIz57ykJPCC2EH0xeC2ltvhfAXNwDfAryDDhCN8TTwIghieyS8jXklOcT0HfiP0PC8iDeqVE9LILgLcMAwL3AJ3tEZHTGT9nG3BO3iDcwKsOamzZazr+9412HJmm6aZKEH86hmQygXNEKCFpMJVvbzDXNxRAaQkbbaYEHug543aQoip+hUSNfAOlxulZ2QD6wnBEmJHWS+GqodhaFQFNnYS66/YDPN9fy/r9VexuH0ApEFrzH25+XgAAAAASUVORK5CYII="},33:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAPCAYAAAAGRPQsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFuSURBVHgBpVPLbYNAEN3FSPYtdGByQAIuJh3YFSR0EFcQpwM6SAkxHTgd0EHIDcRl0wG5ceCT95zFkiMQSB5pPeNl9u2bmbdSaAuCwKqq6iCl3HRd99V7fEqyLEvEDDP7AEBB27apYRgJ1gviD2wr7Kdipkn+uK4bgYUFNmX/gf8Buka4ret6VxTFJOiFWZ7nh6EEXmSa5hvCnZgww/O8J/jjWELTNCeyA+hWTJj0ff+dJWGVgwlSWnC8MEVOiGGoUTAw+4QPxIQB6B7AvHg/BmggwRYzDFMtAfRNQJQ8eMbQJe6x4n/fFA4+9BNerVZkr5bLZagBI8dxripimR08m2yL63IJcsS6TJnA0N+rzlX0i8Xijv3Gfjy7ZwNG3cXUIiZOgdsSdJ9JW9xu4fkFQB58SgFlAMqpLomxNRcJAzqZZIb4EYfPWhJ/vaJtsDf4Ktg7rcu01ycGpFhmhHg9diOSf/REFfqTooJyTGe/Bte1W9vaCz8AAAAASUVORK5CYII="},42:function(e,a,t){},43:function(e,a,t){},52:function(e,a,t){e.exports=t(76)},65:function(e,a,t){},66:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){"use strict";t.r(a);var l=t(0),s=t.n(l),n=t(26),r=t.n(n),i=t(28),o=t(38),c=t(16);o.a.use(c.a).init({resources:{cs:{translations:{"delays.title":"Zpo\u017ed\u011bn\xed","delays.searchBar.station":"Zast\xe1vka","delays.searchBar.date":"Datum","delays.searchBar.arrivals":"P\u0159\xedjezdy","delays.searchBar.departures":"Odjezdy","delays.searchBar.button":"Uk\xe1zat spoje","delays.list.connection":"Spoj","delays.list.finalStation":"C\xedlov\xe1 stanice","delays.list.over":"P\u0159es","delays.list.arrival":"P\u0159\xedjezd","delays.list.departure":"Odjezd","delays.list.platform":"N\xe1stupi\u0161t\u011b","delays.list.delay":"Zpo\u017ed\u011bn\xed","delays.list.noDelay":"Nem\xe1 zpo\u017ed\u011bn\xed","delays.mobile.list.finalStation":"C\xedl/Spoj","delays.mobile.list.arrival.departure":"P\u0159\xedjezd/Odjezd","delays.mobile.list.delay.platform":"Zpo\u017ed\u011bn\xed/N\xe1stup"}},sk:{translations:{"delays.title":"Zpo\u017ed\u011bn\xed","delays.searchBar.station":"Zast\xe1vka","delays.searchBar.date":"Datum","delays.searchBar.arrivals":"P\u0159\xedjezdy","delays.searchBar.departures":"Odjezdy","delays.searchBar.button":"Uk\xe1zat spoje","delays.list.connection":"Spoj","delays.list.finalStation":"C\xedlov\xe1 stanice","delays.list.over":"P\u0159es","delays.list.arrival":"P\u0159\xedjezd","delays.list.departure":"Odjezd","delays.list.platform":"N\xe1stupi\u0161t\u011b","delays.list.delay":"Zpo\u017ed\u011bn\xed","delays.list.noDelay":"Nem\xe1 zpo\u017ed\u011bn\xed","delays.mobile.list.finalStation":"C\xedl/Spoj","delays.mobile.list.arrival.departure":"P\u0159\xedjezd/Odjezd","delays.mobile.list.delay.platform":"Zpo\u017ed\u011bn\xed/N\xe1stup"}},en:{translations:{"delays.title":"Delays","delays.searchBar.station":"Station","delays.searchBar.date":"Date","delays.searchBar.arrivals":"Arrivals","delays.searchBar.departures":"Departures","delays.searchBar.button":"Display connections","delays.list.connection":"Connection","delays.list.finalStation":"Final Station","delays.list.over":"Over","delays.list.arrival":"Arrival","delays.list.departure":"Departure","delays.list.platform":"Platform","delays.list.delay":"Delay","delays.list.noDelay":"On time","delays.mobile.list.finalStation":"Final Station","delays.mobile.list.arrival.departure":"Arrival/Departure","delays.mobile.list.delay.platform":"Delay/Platform"}},ua:{translations:{"delays.title":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0438","delays.searchBar.station":"\u0421\u0442\u0430\u043d\u0446\u0456\u044f","delays.searchBar.date":"\u0414\u0430\u0442\u0430","delays.searchBar.arrivals":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f","delays.searchBar.departures":"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.searchBar.button":"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0441\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044c","delays.list.connection":"\u0421\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044f","delays.list.finalStation":"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f","delays.list.over":"\u041c\u0430\u0440\u0448\u0440\u0443\u0442","delays.list.arrival":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f","delays.list.departure":"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.list.platform":"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430","delays.list.delay":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0430","delays.list.noDelay":"\u0412\u0447\u0430\u0441\u043d\u043e","delays.mobile.list.finalStation":"\u041a\u0456\u043d\u0446\u0435\u0432\u0430 \u0441\u0442\u0430\u043d\u0446\u0456\u044f","delays.mobile.list.arrival.departure":"\u041f\u0440\u0438\u0431\u0443\u0442\u0442\u044f/\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f","delays.mobile.list.delay.platform":"\u0417\u0430\u0442\u0440\u0438\u043c\u043a\u0430/\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"}},de:{translations:{"delays.title":"Verz\xf6gerungen","delays.searchBar.station":"Bahnhof","delays.searchBar.date":"Datum","delays.searchBar.arrivals":"Ank\xfcnfte","delays.searchBar.departures":"Abfl\xfcge","delays.searchBar.button":"Verbindungen anzeigen","delays.list.connection":"Verbindung","delays.list.finalStation":"Endstation","delays.list.over":"\xdcber","delays.list.arrival":"Ankunft","delays.list.departure":"Abfahrt","delays.list.platform":"Plattform","delays.list.delay":"Verz\xf6gern","delays.list.noDelay":"P\xfcnktlich","delays.mobile.list.finalStation":"Endstation","delays.mobile.list.arrival.departure":"Ankunft/Abfahrt","delays.mobile.list.delay.platform":"Verz\xf6gern/Plattform"}},pl:{translations:{"delays.title":"Op\xf3\u017anienia","delays.searchBar.station":"Stacja","delays.searchBar.date":"Data","delays.searchBar.arrivals":"Przylot","delays.searchBar.departures":"Wylot","delays.searchBar.button":"Wy\u015bwietlanie po\u0142\u0105cze\u0144","delays.list.connection":"Po\u0142\u0105czenie","delays.list.finalStation":"Stacja ko\u0144cowa","delays.list.over":"Trasa","delays.list.arrival":"Przylot","delays.list.departure":"Wylot","delays.list.platform":"Platforma","delays.list.delay":"Op\xf3\u017anienie","delays.list.noDelay":"Z czasem","delays.mobile.list.finalStation":"Stacja ko\u0144cowa","delays.mobile.list.arrival.departure":"Przylot/Wylot","delays.mobile.list.delay.platform":"Op\xf3\u017anienie/Platforma"}},hu:{translations:{"delays.title":"K\xe9s\xe9s","delays.searchBar.station":"\xe1llom\xe1s","delays.searchBar.date":"d\xe1tum","delays.searchBar.arrivals":"\xe9rkez\xe9s","delays.searchBar.departures":"Indul\xe1s","delays.searchBar.button":"Mutassa a kapcsolatokat","delays.list.connection":"kapcsolatok","delays.list.finalStation":"V\xe9g\xe1llom\xe1s","delays.list.over":"Felett","delays.list.arrival":"\xe9rkez\xe9s","delays.list.departure":"Indul\xe1s","delays.list.platform":"emelv\xe9ny","delays.list.delay":"k\xe9s\xe9s","delays.list.noDelay":"Id\u0151ben","delays.mobile.list.finalStation":"V\xe9g\xe1llom\xe1s","delays.mobile.list.arrival.departure":"\xe9rkez\xe9s/Indul\xe1s","delays.mobile.list.delay.platform":"k\xe9s\xe9s/emelv\xe9ny"}},ru:{translations:{"delays.title":"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0438","delays.searchBar.station":"\u0421\u0442\u0430\u043d\u0446\u0438\u044f","delays.searchBar.date":"\u0414\u0430\u0442\u0430","delays.searchBar.arrivals":"\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435","delays.searchBar.departures":"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","delays.searchBar.button":"\u041e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f","delays.list.connection":"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f","delays.list.finalStation":"\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f","delays.list.over":"\u041c\u0430\u0440\u0448\u0440\u0443\u0442","delays.list.arrival":"\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435","delays.list.departure":"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","delays.list.platform":"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430","delays.list.delay":"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430","delays.list.noDelay":"\u0412\u043e\u0432\u0440\u0435\u043c\u044f","delays.mobile.list.finalStation":"\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f","delays.mobile.list.arrival.departure":"\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435/\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435","delays.mobile.list.delay.platform":"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430/\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"}},fr:{translations:{"delays.title":"Retards","delays.searchBar.station":"Station","delays.searchBar.date":"La date","delays.searchBar.arrivals":"Arriv\xe9es","delays.searchBar.departures":"d\xe9parts","delays.searchBar.button":"Afficher les connexions","delays.list.connection":"Connexion","delays.list.finalStation":"Station finale","delays.list.over":"Sur","delays.list.arrival":"Arriv\xe9e","delays.list.departure":"D\xe9part","delays.list.platform":"Plate-forme","delays.list.delay":"Retard","delays.list.noDelay":"\xc0 temps","delays.mobile.list.finalStation":"Station finale","delays.mobile.list.arrival.departure":"Arriv\xe9e/D\xe9part","delays.mobile.list.delay.platform":"Retard/Plate-forme"}},es:{translations:{"delays.title":"Retrasos","delays.searchBar.station":"Estaci\xf3n","delays.searchBar.date":"Fecha","delays.searchBar.arrivals":"Llegadas","delays.searchBar.departures":"Salidas","delays.searchBar.button":"Mostrar conexiones","delays.list.connection":"Conexi\xf3n","delays.list.finalStation":"Estaci\xf3n final","delays.list.over":"Encima","delays.list.arrival":"Llegada","delays.list.departure":"Salida","delays.list.platform":"Plataforma","delays.list.delay":"Retrasar","delays.list.noDelay":"A tiempo","delays.mobile.list.finalStation":"Estaci\xf3n final","delays.mobile.list.arrival.departure":"Llegada/Salida","delays.mobile.list.delay.platform":"Retrasar/Plataforma"}}},fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});o.a,t(65);var d=t(25),m=t(11),u=t(12),y=t(14),p=t(13),h=t(15),f=(t(66),function(e){function a(){return Object(m.a)(this,a),Object(y.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(d.a,{to:"/?lang=en&refresh=30"})}}]),a}(l.Component)),b=t(24),v=function(e){var a=[];return e.map((function(e){return e.cities.map((function(e){var t=e.name;return e.stations.map((function(e){var l=e.significance,s=e.fullname,n=e.id,r=e.stationsTypes,i=e.latitude,o=e.longitude;return a.push({significance:l,stationsTypes:r,fullname:s,cityName:t,id:n,latitude:i,longitude:o})}))}))})),a},E=function(){var e=new Date,a=""+(e.getMonth()+1),t=""+e.getDate(),l=e.getFullYear();return a.length<2&&(a="0"+a),t.length<2&&(t="0"+t),[l,a,t].join("-")},g=function(e,a,t){if(e&&a&&t){var l=function(e,a){return a.find((function(a){return a.id===e}))},s=l(t,a),n=e.connectionStations.find((function(e){return e.stationId===t}))||[];return{stationsTypes:s.stationsTypes,vehicleNumber:e.number,finalStation:l(e.connectionStations[e.connectionStations.length-1].stationId,a).fullname,overStations:e.connectionStations.map((function(e){var t=e.stationId;return l(t,a)?l(t,a).cityName:""})),arrival:new Date(n.arrival),departure:new Date(n.departure),platform:n.platform,delay:e.delay}}},A=function(e,a){var t=new Date(e);return t.setMinutes(e.getMinutes()+a),t},S=t(49),N=t(51),w=(t(74),function(e){function a(){var e,t;Object(m.a)(this,a);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(t=Object(y.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={selectedOption:null,userLocation:null,dateFilter:E()},t.componentDidMount=function(){navigator.geolocation.getCurrentPosition((function(e){var a=e.coords;return t.setState({userLocation:a})}))},t.calculateOptions=function(e){return e.map((function(e){return{value:e.id,label:e.fullname}}))},t.findClosestHandler=function(){if(!t.state.userLocation)return console.error("User's location wasn't detected");if(!t.props.stations.length)return console.error("Can't load stations data");var e=t.state.userLocation,a=e.latitude,l=e.longitude,s=t.props.stations.map((function(e){var t=e.latitude,s=e.longitude;try{return Object(S.distanceTo)({lat:t,lon:s},{lat:a,lon:l})}catch(n){return 1/0}})),n=Math.min.apply(Math,Object(b.a)(s)),r=s.indexOf(n);return t.setState({selectedOption:t.calculateOptions(t.props.stations)[r]})},t.selectStationHandler=function(e){t.setState({selectedOption:e}),t.props.setStationId(e.value)},t.submitHandler=function(e){e.preventDefault(),t.state.selectedOption&&t.props.setStationId(t.state.selectedOption.value)},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.stations,l=a.timeFilter,n=a.setTimeFilter,r=a.showLoader,i=this.state,o=i.selectedOption,c=i.dateFilter;return s.a.createElement("form",{className:"delay-form",onSubmit:this.submitHandler},s.a.createElement("div",{className:"input-field input-field--select"},s.a.createElement("label",{className:"delay-form__label delay-form__label--select"},this.props.t("delays.searchBar.station")),s.a.createElement(N.a,{className:"station-select",value:o,onChange:function(a){return e.setState({selectedOption:a})},options:this.calculateOptions(t),isDisabled:r,placeholder:r?"Loading...":"Choose station"}),s.a.createElement("button",{className:"location-button",type:"button",onClick:this.findClosestHandler})),s.a.createElement("div",{className:"delay-form__flex-wrapper"},s.a.createElement("div",{className:"input-field"},s.a.createElement("label",{className:"delay-form__label"},this.props.t("delays.searchBar.date")),s.a.createElement("input",{disabled:!0,onChange:this.chooseDateHandler,value:c,className:"delay-form__date-picker",type:"text"})),s.a.createElement("div",null,s.a.createElement("div",{className:"checkbox-wrapper"},s.a.createElement("input",{type:"radio",name:"arrivalDepartureFilter",id:"checkboxFirst",className:"invisibleCheckbox",checked:"arrival"===l,onChange:function(){return n("arrival")}}),s.a.createElement("label",{className:"checkbox-label",htmlFor:"checkboxFirst"},s.a.createElement("span",{className:"radio-label"},this.props.t("delays.searchBar.arrivals")))),s.a.createElement("div",{className:"checkbox-wrapper"},s.a.createElement("input",{type:"radio",name:"arrivalDepartureFilter",id:"checkboxSecond",className:"invisibleCheckbox",value:"departure",checked:"departure"===l,onChange:function(){return n("departure")}}),s.a.createElement("label",{className:"checkbox-label",htmlFor:"checkboxSecond"},s.a.createElement("span",{className:"radio-label"},this.props.t("delays.searchBar.departures")))))),s.a.createElement("button",{className:"delay-form__button"},this.props.t("delays.searchBar.button")))}}]),a}(l.Component)),B=Object(c.b)()(w),O=(t(42),t(43),t(75),t(50)),j=function(e){var a=e.text;return s.a.createElement("section",{className:"live-line-wrapper-row"},s.a.createElement(O.a,{offset:"run-in",direction:"toLeft",speed:5},(function(){return s.a.createElement("p",{className:"live-line-row"},a)})))},C=t(32),k=t.n(C),D=t(33),_=t.n(D),T=function(e){function a(){return Object(m.a)(this,a),Object(y.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.rowProps,a=e.stationsTypes,t=e.vehicleNumber,l=e.finalStation,n=e.overStations,r=e.arrival,i=e.departure,o=e.platform,c=e.delay;return s.a.createElement("tr",{className:"delay-table__row"},s.a.createElement("td",null,a.map((function(e){return s.a.createElement("img",{className:"station-type-icon",key:e,src:"BUS_STATION"===e?k.a:_.a,alt:"bus-icon"})})),s.a.createElement("span",{className:"vehicle-number"},t)),s.a.createElement("td",{className:"delay-table__row__destination"},l),s.a.createElement("td",null,s.a.createElement("div",{className:"rowItem-delay"},s.a.createElement(j,{text:n.join(" ")}))),s.a.createElement("td",null,s.a.createElement("p",{className:"time-display"},r.toTimeString().slice(0,5)),Boolean(c)&&s.a.createElement("p",{className:"time-with-delay"},A(r,c).toTimeString().slice(0,5))),s.a.createElement("td",null,s.a.createElement("p",{className:"time-display time-display--bold"},i.toTimeString().slice(0,5)),Boolean(c)&&s.a.createElement("p",{className:"time-with-delay time-with-delay--bold"},A(i,c).toTimeString().slice(0,5))),s.a.createElement("td",null,o),s.a.createElement("td",{className:"delay-table__row__delay--".concat(c?"negative":"positive")},c?c+" min.":this.props.t("delays.list.noDelay")))}}]),a}(l.Component),L=Object(c.b)()(T),F=function(e){function a(){return Object(m.a)(this,a),Object(y.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props,a=e.stations,t=e.stationId,l=e.trains,n=e.timeFilter,r=e.showTableLoader,i=e.message;return s.a.createElement(s.a.Fragment,null,r&&s.a.createElement("div",{className:"loader"}),s.a.createElement("table",{className:"delay-table"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"delay-table__header"},s.a.createElement("th",null,this.props.t("delays.list.connection")),s.a.createElement("th",null,this.props.t("delays.list.finalStation")),s.a.createElement("th",{className:"over-column"},this.props.t("delays.list.over")),s.a.createElement("th",null,this.props.t("delays.list.arrival")),s.a.createElement("th",null,this.props.t("delays.list.departure")),s.a.createElement("th",null,this.props.t("delays.list.platform")),s.a.createElement("th",null,this.props.t("delays.list.delay")))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"7"},i)),("arrival"===n?l:Object(b.a)(l).reverse()).map((function(e,l){return s.a.createElement(L,{key:l,rowProps:g(e,a,t)})})))))}}]),a}(l.Component),I=Object(c.b)()(F),P=function(e){function a(){var e,t;Object(m.a)(this,a);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(t=Object(y.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={isRowOpened:!1},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this,a=this.props.rowProps,t=a.stationsTypes,l=a.vehicleNumber,n=a.finalStation,r=a.overStations,i=a.arrival,o=a.departure,c=a.platform,d=a.delay;return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"delay-table__row ".concat(this.state.isRowOpened&&"delay-table__row--opened")},s.a.createElement("td",null,s.a.createElement("p",{className:"delay-table__row__destination"},n),t&&t.map((function(e){return s.a.createElement("img",{className:"station-type-icon",key:e,src:"BUS_STATION"===e?k.a:_.a,alt:"bus-icon"})})),s.a.createElement("span",{className:"vehicle-number"},l)),s.a.createElement("td",null,s.a.createElement("p",null,s.a.createElement("span",{className:"time-display"},i.toTimeString().slice(0,5)),s.a.createElement("span",{className:"time-display time-display--bold"},o.toTimeString().slice(0,5))),s.a.createElement("p",null,Boolean(d)&&s.a.createElement("span",{className:"time-with-delay"},A(i,d).toTimeString().slice(0,5)),Boolean(d)&&s.a.createElement("span",{className:"time-with-delay time-with-delay--bold"},A(o,d).toTimeString().slice(0,5)))),s.a.createElement("td",null,s.a.createElement("div",{className:"last-column"},s.a.createElement("div",null,s.a.createElement("p",{className:"delay-table__row__delay--".concat(d?"negative":"positive")},d," min",s.a.createElement("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M5.27518 0.527318C5.4548 0.527318 5.63442 0.613688 5.72767 0.786443L9.96849 8.64102C10.1365 8.95255 9.89187 9.31904 9.516 9.31904H1.03436C0.658134 9.31904 0.413819 8.95255 0.581876 8.64102L4.82269 0.786443C4.91594 0.613688 5.0952 0.527318 5.27518 0.527318ZM5.27518 0C4.88847 0 4.53681 0.20528 4.35828 0.535612L0.117459 8.39056C-0.0462606 8.69342 -0.0383126 9.05122 0.138057 9.34686C0.227326 9.49684 0.355992 9.62227 0.509231 9.70937C0.667168 9.799 0.848599 9.84669 1.03436 9.84669H9.516C9.70141 9.84669 9.88247 9.799 10.0408 9.70937C10.1944 9.62227 10.3223 9.49684 10.4119 9.34686C10.5883 9.05158 10.5963 8.69342 10.4325 8.39056L6.19172 0.535987C6.01355 0.205294 5.66189 0 5.27518 0Z",fill:"#292929"}),s.a.createElement("path",{d:"M5.80216 7.64851C5.80216 7.94017 5.56616 8.17618 5.27486 8.17618C4.9832 8.17618 4.74756 7.94017 4.74756 7.64851C4.74756 7.35721 4.9832 7.12122 5.27486 7.12122C5.56616 7.12122 5.80216 7.35721 5.80216 7.64851Z",fill:"#292929"}),s.a.createElement("path",{d:"M5.27486 2.37378C4.9832 2.37378 4.74756 2.60978 4.74756 2.90107V5.89032C4.74756 6.18198 4.9832 6.41797 5.27486 6.41797C5.56616 6.41797 5.80216 6.18198 5.80216 5.89032V2.90107C5.80216 2.60978 5.56616 2.37378 5.27486 2.37378Z",fill:"#292929"}))),s.a.createElement("p",null,c)),s.a.createElement("button",{onClick:function(){return e.setState({isRowOpened:!e.state.isRowOpened})},className:"circle-toggle"})))),this.state.isRowOpened&&s.a.createElement("tr",{className:"delay-table__row__addition"},s.a.createElement("td",{colSpan:"3"},s.a.createElement("h4",null,this.props.t("delays.list.over")),s.a.createElement("p",null,r.join(", ")))))}}]),a}(l.Component),z=Object(c.b)()(P),x=function(e){function a(){var e,t;Object(m.a)(this,a);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(t=Object(y.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).componentDidUpdate=function(){},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props,a=e.stations,t=e.stationId,l=e.trains,n=e.timeFilter,r=e.showTableLoader,i=e.message;return s.a.createElement(s.a.Fragment,null,r&&s.a.createElement("div",{className:"loader"}),s.a.createElement("table",{className:"delay-table delay-table--mobile"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"delay-table__header delay-table__header--mobile"},s.a.createElement("th",null,this.props.t("delays.mobile.list.finalStation")),s.a.createElement("th",null,this.props.t("delays.mobile.list.arrival.departure")),s.a.createElement("th",null,this.props.t("delays.mobile.list.delay.platform")))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"3"},i)),("arrival"===n?l:Object(b.a)(l).reverse()).map((function(e,l){return s.a.createElement(z,{key:l,rowProps:g(e,a,t)})})))))}}]),a}(l.Component),R=Object(c.b)()(x),Q=function(e){function a(){var e,t;Object(m.a)(this,a);for(var l=arguments.length,s=new Array(l),n=0;n<l;n++)s[n]=arguments[n];return(t=Object(y.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(s)))).state={rows:[],locations:[],showLoader:!0,trains:[],stationId:null,timeFilter:"arrival",showTableLoader:!1,trainsQuantity:10,message:""},t.apiRequestLoop=function(){fetch("https://dpl-qa-ybus-pubapi.sa.cz/restapi/routes/10204002/departures",{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return fetch("https://dpl-qa-ybus-pubapi.sa.cz/restapi/consts/locations",{mode:"cors"}).then((function(e){return e.json()})).then((function(a){t.setState({rows:e,locations:a,showLoader:!1})})).catch((function(e){console.log(e.message)}))})).catch((function(e){console.log(e.message)}))},t.tick=function(){t.state.stationId&&t.getTrains(t.state.stationId)},t.getTrains=function(e){var a="https://dpl-qa-ybus-pubapi.sa.cz/restapi/routes/".concat(e,"/departures?limit=1000");t.setState({showTableLoader:!0}),fetch(a,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return t.setState({trains:e,showTableLoader:!1,message:e.length?"":"No arrivals today :("})})).catch((function(e){console.log(e.message),t.setState({showTableLoader:!1,message:"Can't load data :("})}))},t.componentDidMount=function(){var e=new URLSearchParams(window.location.search);t.props.i18n.changeLanguage(e.get("lang")),t.apiRequestLoop(),e.get("refresh")&&setInterval((function(){return t.tick()}),1e3*e.get("refresh"))},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,a){a.stationId!==this.state.stationId&&this.getTrains(this.state.stationId)}},{key:"render",value:function(){var e,a=this,t=this.state,l=t.timeFilter,n=t.locations,r=t.trains,i=t.stationId,o=t.showLoader,c=t.showTableLoader,d=t.trainsQuantity,m=t.message,u=new URLSearchParams(window.location.search);return u.get("refresh")?!((e=+u.get("refresh"))instanceof Number||"number"===typeof e)||isNaN(e)?s.a.createElement("div",{className:"not-found"},"Refresh Query Must Be A Number"):u.get("lang")?"cs"!==u.get("lang")&&"sk"!==u.get("lang")&&"en"!==u.get("lang")&&"ua"!==u.get("lang")&&"de"!==u.get("lang")&&"pl"!==u.get("lang")&&"hu"!==u.get("lang")&&"ru"!==u.get("lang")&&"fr"!==u.get("lang")&&"es"!==u.get("lang")?s.a.createElement("div",{className:"not-found"},"Lang Query Mismatched",s.a.createElement("br",null),"Try to write correct lang into query. Here is a list",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"list"},"cs",s.a.createElement("br",null),"sk",s.a.createElement("br",null),"en",s.a.createElement("br",null),"ua",s.a.createElement("br",null),"de",s.a.createElement("br",null),"pl",s.a.createElement("br",null),"hu",s.a.createElement("br",null),"ru",s.a.createElement("br",null),"fr",s.a.createElement("br",null),"es")):s.a.createElement("div",{className:"delay-page__wrapper"},s.a.createElement("h1",{className:"delay-page__title"},this.props.t("delays.title")),s.a.createElement(B,{stations:v(n),setStationId:function(e){return a.setState({stationId:e,trainsQuantity:10})},setTimeFilter:function(e){return a.setState({timeFilter:e})},timeFilter:l,showLoader:o}),s.a.createElement(I,{stations:v(n),trains:r.slice(0,d),stationId:i,timeFilter:l,showTableLoader:c,message:m}),s.a.createElement(R,{stations:v(n),trains:r.slice(0,d),stationId:i,timeFilter:l,showTableLoader:c,message:m}),s.a.createElement("div",{className:"delay-page__button__wrapper"},s.a.createElement("button",{onClick:function(){return a.setState({trainsQuantity:d+5})},disabled:r.length<=d,className:"delay-page__button"},this.props.t("delays.searchBar.button")))):s.a.createElement("div",{className:"not-found"},"Lang Query Not Found"):s.a.createElement("div",{className:"not-found"},"Refresh Query Not Found")}}]),a}(l.Component),M=Object(c.b)()(Q),H=function(e){function a(){return Object(m.a)(this,a),Object(y.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(d.a,{to:"/DelayPage?lang=en&refresh=30"})}}]),a}(l.Component),Z=function(){return s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",component:H}),s.a.createElement(d.b,{exact:!0,path:"/DelayPage",component:M}),s.a.createElement(d.b,{component:f}))};r.a.render(s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{basename:"/train-delay"},s.a.createElement(Z,null))),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.436e65f3.chunk.js.map